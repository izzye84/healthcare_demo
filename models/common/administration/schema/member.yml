version: 2

models:
  - name: member
    description: >
        Member data in common format
    columns:
      - name: dbt_shu_id
        description: some_company Health unique identifier generated by dbt function dbt_utils.surrogate_key
        tests:
          - not_null
          - unique

      - name: member_id
        description: source values that identify a unique Member and matches Patient file
        tests:
          - not_null

      - name: patient_id
        description: Source value that links the Member to the clinical Patient file
      
      - name: eligibility_id
        description: Unique row ID to join matching record from Eligibility file
      
      - name: social_security_number
        description: Social Security Number for Person

      - name: first_name
        description: Member first name
        tests:
          - not_null

      - name: last_name
        description: Member last name
        tests:
          - not_null

      - name: date_of_birth
        description: Member date of birth

      - name: gender
        description: Member gender
        tests:
          - accepted_values:
              values: ['Male','Female','Other']
            
      - name: race
        description: Member race, refer to standard values on reference sheet Race
      
      - name: relationship
        description: Identifies relationship of member to policy holder. Standardized code Enrollee(E), Spouse(S) or Dependent (D)

      - name: address_line_1
        description: Member address line 1

      - name: address_line_2
        description: Member address line 2

      - name: city
        description: Member address city

      - name: state
        description: Standardized state code

      - name: zip
        description: 5 digit zip code

      - name: zip_code_last_4
        description: Zip + 4 code if available

      - name: mailing_country
        description: Member mailing country, refer to standard countries on reference sheet Country

      - name: phone_number
        description: Contact Number for the Member

      - name: email_address
        description: Email Address for the Member

      - name: primary_care_provider_npi
        description: Member primary care NPI (National Provider Identifier)

      - name: death_date
        description: Member date of death

      - name: patient_account_number
        description: Source patient account or medical record number from the EMR
      
      - name: ingest_timestamp_utc
        description: Most recent ingest timestamp in UTC


      - name: created_timestamp
        description: Created timestamp from source

      - name: modified_timestamp
        description: modeified timestamp from source
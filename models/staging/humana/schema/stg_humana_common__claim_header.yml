version: 2

models:
  - name: stg_humana_common__claim_header
    description: Staging step to transform Humana's medical claims file to the common format's claim header table.

    columns:
      - name: sh_claim_id
        description: some_company Health unique claim identifier generated by dbt function dbt_utils.surrogate_key

      - name: claim_id
        description: Claim ID from source system.
        tests:
          - not_null
          - unique

      - name: member_id
        description: Source value that identifies a unique Member and links to Member file
        tests:
          - not_null

      - name: patient_id
        description: Source value that links the Member to the clinical Patient file

      - name: place_of_service_code
        description: Standardized place of service code (01, 03, 21, ...)

      - name: place_of_service_description
        description: Standardized place of service code (Pharmacy, School, Inpatient Hospital, ...)

      - name: claim_processed_date
        description: Date claim was paid/processed

      - name: transaction_type
        description: Standardized transaction type. (Paid, Approved, Denied, Capitated, Reversed)

      - name: insurance_name
        description: Payor/name of insurance

      - name: insurance_type
        description: Line of business, type of Insurance Product (PPO, HMO, Medicare, Medicaid, etc.)

      - name: service_date_from
        description: Beginning date of services this claim applies to

      - name: service_date_to
        description: Ending date of services this claim applies to

      - name: admit_diagnosis_code
        description: Standardized ICD (International Classification of Diseases) diagnostic code. Do not include decimal point.

      - name: admit_datetime
        description: Date and time of admission

      - name: admit_type
        description: Standardized admission type. (Elective, newborn, emergency, ...)

      - name: source_of_admission
        description: Standardized source of admission. (Physical referral, transfer, law enforcement, ...)

      - name: discharge_datetime
        description: Date and time of discharge

      - name: discharge_status
        description: Standardized discharge status. (To home/self-care, transfer, expired, to outpatient, ...)

      - name: accident_date
        description: Date of accident

      - name: drg_code
        description: Standardized Diagnosis Related Group Code. (Ventricular shunt, Carotid artery stent, ...)

      - name: network_status
        description: Standardized In/Out of Network status indicator. (H, K, ...)

      - name: paid_amount
        description: Total amount paid for claim lines on this claim

      - name: allowed_amount
        description: Total allowed amount as determined by the members insurer.

      - name: plan_payment
        description: Total amount paid by the insurer. Does not include member liability.

      - name: member_liability
        description: Amount of member liability as determined by the insurer.

      - name: total_charges
        description: Total amount of charges for claim lines on this claim.

      - name: total_standard_cost
        description: Total standard cost for this claim.

      - name: servicing_provider_npi
        description: Servicing Provider NPI (National Provider Identifier) from source data.

      - name: admitting_provider_npi
        description: Admitting Provider NPI (National Provider Identifier) from source data.

      - name: bill_type
        description: Standardized billing type code (113, 117, ...)

      - name: billing_provider_npi
        description: Billing Provider NPI (National Provider Identifier) from source data.

      - name: referring_provider_npi
        description: Referring Provider NPI (National Provider Identifier) from source data.

      - name: facility_npi
        description: Facility NPI (National Provider Identifier) from source data.

      - name: provider_tin
        description: Billing Provider Tax ID Number

      - name: apc
        description: Ambulatory payment classification

      - name: apc_version
        description: Version number of the grouper used.

      - name: capitated_services_indicator
        description: Indicates whether payment for this service or care is covered under a capitated arrangement.

      - name: professional_claim_id
        description: ID of a professional claim in this encounter.

      - name: principal_diagnosis_code
        description: Standardized ICD (International Classification of Diseases) diagnostic code. Do not include decimal point.

      - name: principal_diagnosis_icd_indicator
        description: ICD Indicator (ICD-9, ICD-10, ...)

      - name: icd_primary_procedure_code
        description: Standardized ICD procedure code. (Imaging, Nuclear Medicine, Radiation Therapy, ...) Do not include decimal point.

      - name: icd_primary_procedure_indicator
        description: ICD Indicator (ICD-9-CM, ICD-10-PCS, ...)

      - name: claim_type
        description: Indicates the type of claim (i.e. Professional or Facility)

      - name: authorization_id
        description: Unique identifer for authorization, links to Authorization file

      - name: client_id
        description: some_company client ID

      - name: ingest_timestamp_utc
        description: Most recent ingest timestamp in UTC

version: 2

models:
  - name: stg_humana_common__claim_line
    description: Staging step to transform Humana's medical claims file to the common format's claim line table.

    columns:
      - name: sh_line_number
        description: some_company Health unique claim line identifier generated by dbt function dbt_utils.surrogate_key
        tests:
          - not_null
          - unique

      - name: claim_id
        description: Claim ID from source system.

      - name: line_number
        description: Claim line number.
        tests:
          - not_null

      - name: member_id
        description: Source value that identifies a unique Member and links to Member file

      - name: patient_id
        description: Source value that links the Member to the clinical Patient file

      - name: billing_provider_npi
        description: Billing Provider NPI (National Provider Identifier) from source data.

      - name: servicing_provider_npi
        description: Servicing Provider NPI (National Provider Identifier) from source data.

      - name: revenue_code
        description: Standardized UB revenue code. (General, Medical/Surgical/GYN, OB, ...)

      - name: procedure_code
        description: Standardized ICD/CPT/HCPCS procedure code. (Anesthesia, Surgery, Radiology, ...) Do not include decimal point.

      - name: procedure_modifier_1
        description: Standardized ICD/CPT/HCPCS procedure modifier code. (Pricing modifier, unusual circumstance, ...)

      - name: procedure_modifier_2
        description: Standardized ICD/CPT/HCPCS procedure modifier code. (Pricing modifier, unusual circumstance, ...)

      - name: procedure_modifier_3
        description: Standardized ICD/CPT/HCPCS procedure modifier code. (Pricing modifier, unusual circumstance, ...)

      - name: procedure_modifier_4
        description: Standardized ICD/CPT/HCPCS procedure modifier code. (Pricing modifier, unusual circumstance, ...)

      - name: ndc_code
        description: Standardized NDC (National Drug Code) value. (XXXX-XXXX-XX)

      - name: service_date_from
        description: Service from date that this line applies to

      - name: service_date_to
        description: Service to date that this line applies to

      - name: service_units
        description: Units on claim line.

      - name: total_charges
        description: Total charges for this claim line.

      - name: total_paid
        description: Amount paid for this claim line.

      - name: allowed_amount
        description: Total allowed amount as determined by the members insurer.

      - name: plan_payment
        description: Total amount paid by the insurer. Does not include member liability.

      - name: member_liability
        description: Amount of member liability as determined by the insurer.

      - name: standard_cost
        description: Standardized cost.

      - name: claim_type
        description: Indicates the type of claim for a given line (i.e. Professional or Facility)

      - name: transaction_type
        description: Standardized transaction type. (Paid, Approved, Denied, Capitated, Reversed)

      - name: client_id
        description: some_company client ID

      - name: ingest_timestamp_utc
        description: Most recent ingest timestamp in UTC
